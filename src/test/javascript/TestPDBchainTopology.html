<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <title>PDBchainTopology - Test</title>
    <!--JQuery LIb and CSS -->
    <script src="../../main/resources/dependencies/jquery/jquery-1.4.2.min.js" type="text/javascript"></script>
    <!-- <script src="../../main/resources/dependencies/jquery/jquery.dimensions.min.js" type="text/javascript"></script> -->
    <!-- <script src="../../main/resources/dependencies/jquery/jquery.tooltip.js" type="text/javascript"></script> -->
    <!-- <link rel="stylesheet" href="../../main/resources/dependencies/jquery/jquery.tooltip.css"/> -->
    <!-- <link rel="stylesheet" href="../../main/resources/dependencies/jquery/jquery-ui-1.8.2.css"/> -->

<!-- <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.1/themes/base/jquery-ui.css" /> -->
<!-- <script src="http://code.jquery.com/jquery-1.9.1.js"></script> -->
<!-- <script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script> -->

    <!-- <link rel="stylesheet" href="TestPDBchainTopology.css"/> -->

    <script type="text/javascript">
        jQuery.noConflict();
    </script>
    <!--END JQuery LIb and CSS -->

    <!-- RAPHAÃ‹L LIB -->
    <script src="../../main/resources/dependencies/graphics/raphael-2.1.0.js" type="text/javascript" charset="utf-8"></script>

    <!--[if lte IE 8]> <script src="../../main/resources/dependencies/r2d3.v2.min.js"></script> <![endif]-->
    <!--[if gte IE 9]><!-->
    <!-- <script src="../../main/resources/dependencies/d3.v2.min.js"></script> -->
    <!--<![endif]-->



    <!-- BIOJS LIB and CSS -->
    <script language="JavaScript" type="text/javascript" src="../../main/javascript/Biojs.js"></script>
    <script language="JavaScript" type="text/javascript" src="../../main/javascript/Biojs.PDBchainTopology.js"></script>

    <script>
function mytest() {
	pid  = document.getElementById("pdbid").value;
	chid = document.getElementById("chainid").value;
	jQuery('#topodiv').remove();
	jQuery("#parentdiv").append( "<div style='border:2px solid black;width:700px; height:700px;' id='topodiv'></div>" );
	//jQuery("#parentdiv").append( "<div style='border:2px solid black;' id='topodiv'></div>" );
	jQuery('#topodiv');
	var myviewer = new Biojs.PDBchainTopology({divid:"topodiv", pdbid:pid, chainid:chid, size:700});
};
function setupKeyresponse() {
	jQuery(document.getElementById('chainid')).keypress( function(e) {
		if(e.keyCode==13) mytest();
	} );
	jQuery(document.getElementById('pdbid')).keypress( function(e) {
		if(e.keyCode==13) mytest();
	} );
};
    </script>
</head>
<body onload="setupKeyresponse(); mytest();">
	!!!UNDER DEVELOPMENT!!!<br>
	This is a PDBe widget showing secondary structure topology of proteins.<br>
	The layout is calculated by a layout package maintained by Roman Laskowski.<hr>
	<form>
		<table border=0>
			<tr><td>PDB Code</td><td><input type=text name="pdbid" id="pdbid" value="1pci"></input></td></tr>
			<tr><td>Chain Id</td><td><input type=text name="chainid" id="chainid" value="A"></input></td></tr>
		</table>
	</form>
    <div id="parentdiv"></div>
</body>
</html>
